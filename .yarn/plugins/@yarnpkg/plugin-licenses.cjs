/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-licenses",
factory: function (require) {
var plugin=(()=>{var ne=Object.create,B=Object.defineProperty,re=Object.defineProperties,oe=Object.getOwnPropertyDescriptor,ae=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertyNames,Lt=Object.getOwnPropertySymbols,le=Object.getPrototypeOf,At=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var Tt=(s,t,e)=>t in s?B(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,A=(s,t)=>{for(var e in t||(t={}))At.call(t,e)&&Tt(s,e,t[e]);if(Lt)for(var e of Lt(t))he.call(t,e)&&Tt(s,e,t[e]);return s},I=(s,t)=>re(s,ae(t)),pe=s=>B(s,"__esModule",{value:!0});var x=s=>{if(typeof require!="undefined")return require(s);throw new Error('Dynamic require of "'+s+'" is not supported')};var q=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports),et=(s,t)=>{for(var e in t)B(s,e,{get:t[e],enumerable:!0})},de=(s,t,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ce(t))!At.call(s,i)&&i!=="default"&&B(s,i,{get:()=>t[i],enumerable:!(e=oe(t,i))||e.enumerable});return s},S=s=>de(pe(B(s!=null?ne(le(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s);var zt=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)};var E=(s,t,e)=>(zt(s,t,"read from private field"),e?e.call(s):t.get(s)),st=(s,t,e)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)};var k=(s,t,e)=>(zt(s,t,"access private method"),e);var Ut=q((Be,Mt)=>{var Y=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,fe=typeof AbortController=="function",it=fe?AbortController:class{constructor(){this.signal=new Ot}abort(){this.signal.dispatchEvent("abort")}},ue=typeof AbortSignal=="function",me=typeof it.AbortSignal=="function",Ot=ue?AbortSignal:me?it.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let e={type:t,target:this};this.onabort(e),this._listeners.forEach(i=>i(e),this)}}onabort(){}addEventListener(t,e){t==="abort"&&this._listeners.push(e)}removeEventListener(t,e){t==="abort"&&(this._listeners=this._listeners.filter(i=>i!==e))}},ft=new Set,ut=(s,t)=>{let e=`LRU_CACHE_OPTION_${s}`;nt(e)&&gt(e,`${s} option`,`options.${t}`,M)},mt=(s,t)=>{let e=`LRU_CACHE_METHOD_${s}`;if(nt(e)){let{prototype:i}=M,{get:n}=Object.getOwnPropertyDescriptor(i,s);gt(e,`${s} method`,`cache.${t}()`,n)}},ge=(s,t)=>{let e=`LRU_CACHE_PROPERTY_${s}`;if(nt(e)){let{prototype:i}=M,{get:n}=Object.getOwnPropertyDescriptor(i,s);gt(e,`${s} property`,`cache.${t}`,n)}},It=(...s)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...s):console.error(...s)},nt=s=>!ft.has(s),gt=(s,t,e,i)=>{ft.add(s);let n=`The ${t} is deprecated. Please use ${e} instead.`;It(n,"DeprecationWarning",s,i)},C=s=>s&&s===Math.floor(s)&&s>0&&isFinite(s),Et=s=>C(s)?s<=Math.pow(2,8)?Uint8Array:s<=Math.pow(2,16)?Uint16Array:s<=Math.pow(2,32)?Uint32Array:s<=Number.MAX_SAFE_INTEGER?G:null:null,G=class extends Array{constructor(t){super(t);this.fill(0)}},Ct=class{constructor(t){if(t===0)return[];let e=Et(t);this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},M=class{constructor(t={}){let{max:e=0,ttl:i,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:f,maxSize:u=0,maxEntrySize:y=0,sizeCalculation:$,fetchMethod:v,fetchContext:m,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:L}=t,{length:Z,maxAge:Q,stale:tt}=t instanceof M?{}:t;if(e!==0&&!C(e))throw new TypeError("max option must be a nonnegative integer");let pt=e?Et(e):Array;if(!pt)throw new Error("invalid max value: "+e);if(this.max=e,this.maxSize=u,this.maxEntrySize=y||this.maxSize,this.sizeCalculation=$||Z,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=v||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=m,!this.fetchMethod&&m!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(e).fill(null),this.valList=new Array(e).fill(null),this.next=new pt(e),this.prev=new pt(e),this.head=0,this.tail=0,this.free=new Ct(e),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!T,this.maxEntrySize!==0){if(this.maxSize!==0&&!C(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!C(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!l||!!tt,this.noDeleteOnStaleGet=!!L,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=C(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=i||Q||0,this.ttl){if(!C(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let dt="LRU_CACHE_UNBOUNDED";nt(dt)&&(ft.add(dt),It("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",dt,M))}tt&&ut("stale","allowStale"),Q&&ut("maxAge","ttl"),Z&&ut("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?Infinity:0}initializeTTLTracking(){this.ttls=new G(this.max),this.starts=new G(this.max),this.setItemTTL=(i,n,r=Y.now())=>{if(this.starts[i]=n!==0?r:0,this.ttls[i]=n,n!==0&&this.ttlAutopurge){let o=setTimeout(()=>{this.isStale(i)&&this.delete(this.keyList[i])},n+1);o.unref&&o.unref()}},this.updateItemAge=i=>{this.starts[i]=this.ttls[i]!==0?Y.now():0};let t=0,e=()=>{let i=Y.now();if(this.ttlResolution>0){t=i;let n=setTimeout(()=>t=0,this.ttlResolution);n.unref&&n.unref()}return i};this.getRemainingTTL=i=>{let n=this.keyMap.get(i);return n===void 0?0:this.ttls[n]===0||this.starts[n]===0?Infinity:this.starts[n]+this.ttls[n]-(t||e())},this.isStale=i=>this.ttls[i]!==0&&this.starts[i]!==0&&(t||e())-this.starts[i]>this.ttls[i]}updateItemAge(t){}setItemTTL(t,e,i){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new G(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,e,i,n)=>{if(this.isBackgroundFetch(e))return 0;if(!C(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(e,t),!C(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return i},this.addItemSize=(t,e)=>{if(this.sizes[t]=e,this.maxSize){let i=this.maxSize-this.sizes[t];for(;this.calculatedSize>i;)this.evict(!0)}this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,e){}requireSize(t,e,i,n){if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.tail;!(!this.isValidIndex(e)||((t||!this.isStale(e))&&(yield e),e===this.head));)e=this.prev[e]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.head;!(!this.isValidIndex(e)||((t||!this.isStale(e))&&(yield e),e===this.tail));)e=this.next[e]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,e={}){for(let i of this.indexes())if(t(this.valList[i],this.keyList[i],this))return this.get(this.keyList[i],e)}forEach(t,e=this){for(let i of this.indexes())t.call(e,this.valList[i],this.keyList[i],this)}rforEach(t,e=this){for(let i of this.rindexes())t.call(e,this.valList[i],this.keyList[i],this)}get prune(){return mt("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let e of this.rindexes({allowStale:!0}))this.isStale(e)&&(this.delete(this.keyList[e]),t=!0);return t}dump(){let t=[];for(let e of this.indexes({allowStale:!0})){let i=this.keyList[e],n=this.valList[e],o={value:this.isBackgroundFetch(n)?n.__staleWhileFetching:n};if(this.ttls){o.ttl=this.ttls[e];let a=Y.now()-this.starts[e];o.start=Math.floor(Date.now()-a)}this.sizes&&(o.size=this.sizes[e]),t.unshift([i,o])}return t}load(t){this.clear();for(let[e,i]of t){if(i.start){let n=Date.now()-i.start;i.start=Y.now()-n}this.set(e,i.value,i)}}dispose(t,e,i){}set(t,e,{ttl:i=this.ttl,start:n,noDisposeOnSet:r=this.noDisposeOnSet,size:o=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL}={}){if(o=this.requireSize(t,e,o,a),this.maxEntrySize&&o>this.maxEntrySize)return this.delete(t),this;let c=this.size===0?void 0:this.keyMap.get(t);if(c===void 0)c=this.newIndex(),this.keyList[c]=t,this.valList[c]=e,this.keyMap.set(t,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,o),l=!1;else{let d=this.valList[c];e!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():r||(this.dispose(d,t,"set"),this.disposeAfter&&this.disposed.push([d,t,"set"])),this.removeItemSize(c),this.valList[c]=e,this.addItemSize(c,o)),this.moveToTail(c)}if(i!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),l||this.setItemTTL(c,i,n),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let e=this.head,i=this.keyList[e],n=this.valList[e];return this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,i,"evict"),this.disposeAfter&&this.disposed.push([n,i,"evict"])),this.removeItemSize(e),t&&(this.keyList[e]=null,this.valList[e]=null,this.free.push(e)),this.head=this.next[e],this.keyMap.delete(i),this.size--,e}has(t,{updateAgeOnHas:e=this.updateAgeOnHas}={}){let i=this.keyMap.get(t);return i!==void 0&&!this.isStale(i)?(e&&this.updateItemAge(i),!0):!1}peek(t,{allowStale:e=this.allowStale}={}){let i=this.keyMap.get(t);if(i!==void 0&&(e||!this.isStale(i))){let n=this.valList[i];return this.isBackgroundFetch(n)?n.__staleWhileFetching:n}}backgroundFetch(t,e,i,n){let r=e===void 0?void 0:this.valList[e];if(this.isBackgroundFetch(r))return r;let o=new it,a={signal:o.signal,options:i,context:n},l=f=>(o.signal.aborted||this.set(t,f,a.options),f),c=f=>{if(this.valList[e]===h&&(!i.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(t):this.valList[e]=h.__staleWhileFetching),h.__returned===h)throw f},d=f=>f(this.fetchMethod(t,r,a)),h=new Promise(d).then(l,c);return h.__abortController=o,h.__staleWhileFetching=r,h.__returned=null,e===void 0?(this.set(t,h,a.options),e=this.keyMap.get(t)):this.valList[e]=h,h}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:f=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:e,updateAgeOnGet:i,noDeleteOnStaleGet:n});let u={allowStale:e,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:r,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:d},y=this.keyMap.get(t);if(y===void 0){let $=this.backgroundFetch(t,y,u,h);return $.__returned=$}else{let $=this.valList[y];if(this.isBackgroundFetch($))return e&&$.__staleWhileFetching!==void 0?$.__staleWhileFetching:$.__returned=$;if(!f&&!this.isStale(y))return this.moveToTail(y),i&&this.updateItemAge(y),$;let v=this.backgroundFetch(t,y,u,h);return e&&v.__staleWhileFetching!==void 0?v.__staleWhileFetching:v.__returned=v}}get(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet}={}){let r=this.keyMap.get(t);if(r!==void 0){let o=this.valList[r],a=this.isBackgroundFetch(o);return this.isStale(r)?a?e?o.__staleWhileFetching:void 0:(n||this.delete(t),e?o:void 0):a?void 0:(this.moveToTail(r),i&&this.updateItemAge(r),o)}}connect(t,e){this.prev[e]=t,this.next[t]=e}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return mt("del","delete"),this.delete}delete(t){let e=!1;if(this.size!==0){let i=this.keyMap.get(t);if(i!==void 0)if(e=!0,this.size===1)this.clear();else{this.removeItemSize(i);let n=this.valList[i];this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,t,"delete"),this.disposeAfter&&this.disposed.push([n,t,"delete"])),this.keyMap.delete(t),this.keyList[i]=null,this.valList[i]=null,i===this.tail?this.tail=this.prev[i]:i===this.head?this.head=this.next[i]:(this.next[this.prev[i]]=this.next[i],this.prev[this.next[i]]=this.prev[i]),this.size--,this.free.push(i)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return e}clear(){for(let t of this.rindexes({allowStale:!0})){let e=this.valList[t];if(this.isBackgroundFetch(e))e.__abortController.abort();else{let i=this.keyList[t];this.dispose(e,i,"delete"),this.disposeAfter&&this.disposed.push([e,i,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return mt("reset","clear"),this.clear}get length(){return ge("length","size"),this.size}static get AbortController(){return it}static get AbortSignal(){return Ot}};Mt.exports=M});var Dt=q((qe,Ft)=>{"use strict";var p=(...s)=>s.every(t=>t)?s.join(""):"",b=s=>s?encodeURIComponent(s):"",_t=s=>s.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),ye={sshtemplate:({domain:s,user:t,project:e,committish:i})=>`git@${s}:${t}/${e}.git${p("#",i)}`,sshurltemplate:({domain:s,user:t,project:e,committish:i})=>`git+ssh://git@${s}/${t}/${e}.git${p("#",i)}`,edittemplate:({domain:s,user:t,project:e,committish:i,editpath:n,path:r})=>`https://${s}/${t}/${e}${p("/",n,"/",b(i||"HEAD"),"/",r)}`,browsetemplate:({domain:s,user:t,project:e,committish:i,treepath:n})=>`https://${s}/${t}/${e}${p("/",n,"/",b(i))}`,browsetreetemplate:({domain:s,user:t,project:e,committish:i,treepath:n,path:r,fragment:o,hashformat:a})=>`https://${s}/${t}/${e}/${n}/${b(i||"HEAD")}/${r}${p("#",a(o||""))}`,browseblobtemplate:({domain:s,user:t,project:e,committish:i,blobpath:n,path:r,fragment:o,hashformat:a})=>`https://${s}/${t}/${e}/${n}/${b(i||"HEAD")}/${r}${p("#",a(o||""))}`,docstemplate:({domain:s,user:t,project:e,treepath:i,committish:n})=>`https://${s}/${t}/${e}${p("/",i,"/",b(n))}#readme`,httpstemplate:({auth:s,domain:t,user:e,project:i,committish:n})=>`git+https://${p(s,"@")}${t}/${e}/${i}.git${p("#",n)}`,filetemplate:({domain:s,user:t,project:e,committish:i,path:n})=>`https://${s}/${t}/${e}/raw/${b(i||"HEAD")}/${n}`,shortcuttemplate:({type:s,user:t,project:e,committish:i})=>`${s}:${t}/${e}${p("#",i)}`,pathtemplate:({user:s,project:t,committish:e})=>`${s}/${t}${p("#",e)}`,bugstemplate:({domain:s,user:t,project:e})=>`https://${s}/${t}/${e}/issues`,hashformat:_t},U={};U.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:s,user:t,project:e,committish:i,path:n})=>`https://${p(s,"@")}raw.githubusercontent.com/${t}/${e}/${b(i||"HEAD")}/${n}`,gittemplate:({auth:s,domain:t,user:e,project:i,committish:n})=>`git://${p(s,"@")}${t}/${e}/${i}.git${p("#",n)}`,tarballtemplate:({domain:s,user:t,project:e,committish:i})=>`https://codeload.${s}/${t}/${e}/tar.gz/${b(i||"HEAD")}`,extract:s=>{let[,t,e,i,n]=s.pathname.split("/",5);if(!(i&&i!=="tree")&&(i||(n=s.hash.slice(1)),e&&e.endsWith(".git")&&(e=e.slice(0,-4)),!(!t||!e)))return{user:t,project:e,committish:n}}};U.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:s,user:t,project:e,committish:i,treepath:n,path:r,editpath:o})=>`https://${s}/${t}/${e}${p("/",n,"/",b(i||"HEAD"),"/",r,o)}`,tarballtemplate:({domain:s,user:t,project:e,committish:i})=>`https://${s}/${t}/${e}/get/${b(i||"HEAD")}.tar.gz`,extract:s=>{let[,t,e,i]=s.pathname.split("/",4);if(!["get"].includes(i)&&(e&&e.endsWith(".git")&&(e=e.slice(0,-4)),!(!t||!e)))return{user:t,project:e,committish:s.hash.slice(1)}}};U.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:s,domain:t,user:e,project:i,committish:n})=>`git+https://${p(s,"@")}${t}/${e}/${i}.git${p("#",n)}`,tarballtemplate:({domain:s,user:t,project:e,committish:i})=>`https://${s}/${t}/${e}/repository/archive.tar.gz?ref=${b(i||"HEAD")}`,extract:s=>{let t=s.pathname.slice(1);if(t.includes("/-/")||t.includes("/archive.tar.gz"))return;let e=t.split("/"),i=e.pop();i.endsWith(".git")&&(i=i.slice(0,-4));let n=e.join("/");if(!(!n||!i))return{user:n,project:i,committish:s.hash.slice(1)}}};U.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:s,project:t,committish:e})=>`git@${s}:${t}.git${p("#",e)}`,sshurltemplate:({domain:s,project:t,committish:e})=>`git+ssh://git@${s}/${t}.git${p("#",e)}`,edittemplate:({domain:s,user:t,project:e,committish:i,editpath:n})=>`https://${s}/${t}/${e}${p("/",b(i))}/${n}`,browsetemplate:({domain:s,project:t,committish:e})=>`https://${s}/${t}${p("/",b(e))}`,browsetreetemplate:({domain:s,project:t,committish:e,path:i,hashformat:n})=>`https://${s}/${t}${p("/",b(e))}${p("#",n(i))}`,browseblobtemplate:({domain:s,project:t,committish:e,path:i,hashformat:n})=>`https://${s}/${t}${p("/",b(e))}${p("#",n(i))}`,docstemplate:({domain:s,project:t,committish:e})=>`https://${s}/${t}${p("/",b(e))}`,httpstemplate:({domain:s,project:t,committish:e})=>`git+https://${s}/${t}.git${p("#",e)}`,filetemplate:({user:s,project:t,committish:e,path:i})=>`https://gist.githubusercontent.com/${s}/${t}/raw${p("/",b(e))}/${i}`,shortcuttemplate:({type:s,project:t,committish:e})=>`${s}:${t}${p("#",e)}`,pathtemplate:({project:s,committish:t})=>`${s}${p("#",t)}`,bugstemplate:({domain:s,project:t})=>`https://${s}/${t}`,gittemplate:({domain:s,project:t,committish:e})=>`git://${s}/${t}.git${p("#",e)}`,tarballtemplate:({project:s,committish:t})=>`https://codeload.github.com/gist/${s}/tar.gz/${b(t||"HEAD")}`,extract:s=>{let[,t,e,i]=s.pathname.split("/",4);if(i!=="raw"){if(!e){if(!t)return;e=t,t=null}return e.endsWith(".git")&&(e=e.slice(0,-4)),{user:t,project:e,committish:s.hash.slice(1)}}},hashformat:function(s){return s&&"file-"+_t(s)}};U.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:s,user:t,project:e,committish:i,path:n})=>`https://${s}/${t}/${e}/blob/${b(i)||"HEAD"}/${n}`,httpstemplate:({domain:s,user:t,project:e,committish:i})=>`https://${s}/${t}/${e}.git${p("#",i)}`,tarballtemplate:({domain:s,user:t,project:e,committish:i})=>`https://${s}/${t}/${e}/archive/${b(i)||"HEAD"}.tar.gz`,bugstemplate:({user:s,project:t})=>`https://todo.sr.ht/${s}/${t}`,extract:s=>{let[,t,e,i]=s.pathname.split("/",4);if(!["archive"].includes(i)&&(e&&e.endsWith(".git")&&(e=e.slice(0,-4)),!(!t||!e)))return{user:t,project:e,committish:s.hash.slice(1)}}};for(let[s,t]of Object.entries(U))U[s]=Object.assign({},ye,t);Ft.exports=U});var $t=q((Ye,Wt)=>{var $e=x("url"),yt=(s,t,e)=>{let i=s.indexOf(e);return s.lastIndexOf(t,i>-1?i:Infinity)},jt=s=>{try{return new $e.URL(s)}catch{}},be=(s,t)=>{let e=s.indexOf(":"),i=s.slice(0,e+1);if(Object.prototype.hasOwnProperty.call(t,i))return s;let n=s.indexOf("@");return n>-1?n>e?`git+ssh://${s}`:s:s.indexOf("//")===e+1?s:`${s.slice(0,e+1)}//${s.slice(e+1)}`},we=s=>{let t=yt(s,"@","#"),e=yt(s,":","#");return e>t&&(s=s.slice(0,e)+"/"+s.slice(e+1)),yt(s,":","#")===-1&&s.indexOf("//")===-1&&(s=`git+ssh://${s}`),s};Wt.exports=(s,t)=>{let e=t?be(s,t):s;return jt(e)||jt(we(e))}});var Ht=q((Ge,Nt)=>{"use strict";var xe=$t(),Se=s=>{let t=s.indexOf("#"),e=s.indexOf("/"),i=s.indexOf("/",e+1),n=s.indexOf(":"),r=/\s/.exec(s),o=s.indexOf("@"),a=!r||t>-1&&r.index>t,l=o===-1||t>-1&&o>t,c=n===-1||t>-1&&n>t,d=i===-1||t>-1&&i>t,h=e>0,f=t>-1?s[t-1]!=="/":!s.endsWith("/"),u=!s.startsWith(".");return a&&h&&f&&u&&l&&c&&d};Nt.exports=(s,t,{gitHosts:e,protocols:i})=>{var $,v;if(!s)return;let n=Se(s)?`github:${s}`:s,r=xe(n,i);if(!r)return;let o=e.byShortcut[r.protocol],a=e.byDomain[r.hostname.startsWith("www.")?r.hostname.slice(4):r.hostname],l=o||a;if(!l)return;let c=e[o||a],d=null;(($=i[r.protocol])==null?void 0:$.auth)&&(r.username||r.password)&&(d=`${r.username}${r.password?":"+r.password:""}`);let h=null,f=null,u=null,y=null;try{if(o){let m=r.pathname.startsWith("/")?r.pathname.slice(1):r.pathname,T=m.indexOf("@");T>-1&&(m=m.slice(T+1));let L=m.lastIndexOf("/");L>-1?(f=decodeURIComponent(m.slice(0,L)),f||(f=null),u=decodeURIComponent(m.slice(L+1))):u=decodeURIComponent(m),u.endsWith(".git")&&(u=u.slice(0,-4)),r.hash&&(h=decodeURIComponent(r.hash.slice(1))),y="shortcut"}else{if(!c.protocols.includes(r.protocol))return;let m=c.extract(r);if(!m)return;f=m.user&&decodeURIComponent(m.user),u=decodeURIComponent(m.project),h=decodeURIComponent(m.committish),y=((v=i[r.protocol])==null?void 0:v.name)||r.protocol.slice(0,-1)}}catch(m){if(m instanceof URIError)return;throw m}return[l,f,d,u,h,y,t]}});var Bt=q((Ve,Rt)=>{"use strict";var ke=Ut(),Pe=Dt(),ve=Ht(),Le=$t(),bt=new ke({max:1e3}),_,J,w,P,O=class{constructor(t,e,i,n,r,o,a={}){st(this,w);Object.assign(this,E(O,_)[t],{type:t,user:e,auth:i,project:n,committish:r,default:o,opts:a})}static addHost(t,e){E(O,_)[t]=e,E(O,_).byDomain[e.domain]=t,E(O,_).byShortcut[`${t}:`]=t,E(O,J)[`${t}:`]={name:t}}static fromUrl(t,e){if(typeof t!="string")return;let i=t+JSON.stringify(e||{});if(!bt.has(i)){let n=ve(t,e,{gitHosts:E(O,_),protocols:E(O,J)});bt.set(i,n?new O(...n):void 0)}return bt.get(i)}static parseUrl(t){return Le(t)}hash(){return this.committish?`#${this.committish}`:""}ssh(t){return k(this,w,P).call(this,this.sshtemplate,t)}sshurl(t){return k(this,w,P).call(this,this.sshurltemplate,t)}browse(t,...e){return typeof t!="string"?k(this,w,P).call(this,this.browsetemplate,t):typeof e[0]!="string"?k(this,w,P).call(this,this.browsetreetemplate,I(A({},e[0]),{path:t})):k(this,w,P).call(this,this.browsetreetemplate,I(A({},e[1]),{fragment:e[0],path:t}))}browseFile(t,...e){return typeof e[0]!="string"?k(this,w,P).call(this,this.browseblobtemplate,I(A({},e[0]),{path:t})):k(this,w,P).call(this,this.browseblobtemplate,I(A({},e[1]),{fragment:e[0],path:t}))}docs(t){return k(this,w,P).call(this,this.docstemplate,t)}bugs(t){return k(this,w,P).call(this,this.bugstemplate,t)}https(t){return k(this,w,P).call(this,this.httpstemplate,t)}git(t){return k(this,w,P).call(this,this.gittemplate,t)}shortcut(t){return k(this,w,P).call(this,this.shortcuttemplate,t)}path(t){return k(this,w,P).call(this,this.pathtemplate,t)}tarball(t){return k(this,w,P).call(this,this.tarballtemplate,I(A({},t),{noCommittish:!1}))}file(t,e){return k(this,w,P).call(this,this.filetemplate,I(A({},e),{path:t}))}edit(t,e){return k(this,w,P).call(this,this.edittemplate,I(A({},e),{path:t}))}getDefaultRepresentation(){return this.default}toString(t){return this.default&&typeof this[this.default]=="function"?this[this.default](t):this.sshurl(t)}},V=O;_=new WeakMap,J=new WeakMap,w=new WeakSet,P=function(t,e){if(typeof t!="function")return null;let i=A(A(A({},this),this.opts),e);i.path||(i.path=""),i.path.startsWith("/")&&(i.path=i.path.slice(1)),i.noCommittish&&(i.committish=null);let n=t(i);return i.noGitPlus&&n.startsWith("git+")?n.slice(4):n},st(V,_,{byShortcut:{},byDomain:{}}),st(V,J,{"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}});for(let[s,t]of Object.entries(Pe))V.addHost(s,t);Rt.exports=V});var je={};et(je,{default:()=>De});var se=S(x("@yarnpkg/cli")),H=S(x("@yarnpkg/core")),D=S(x("clipanion"));var g=S(x("@yarnpkg/core")),z=S(x("@yarnpkg/fslib")),Kt=S(Bt());var xt={};et(xt,{fs:()=>ze,getPackagePath:()=>Ae});var qt=S(x("@yarnpkg/plugin-pnp")),rt=S(x("@yarnpkg/core")),ot=S(x("@yarnpkg/fslib")),Yt=S(x("@yarnpkg/libzip"));var W=()=>({os:[process.platform],cpu:[process.arch]});var Ae=async(s,t)=>{if(Te(s),!rt.structUtils.isPackageCompatible(t,W()))return null;let e=rt.structUtils.convertPackageToLocator(t),i={name:rt.structUtils.stringifyIdent(e),reference:e.reference},n=wt.getPackageInformation(i);if(!n)return null;let{packageLocation:r}=n;return r},wt,Te=s=>{wt||(wt=module.require((0,qt.getPnpPath)(s).cjs))},ze=new ot.VirtualFS({baseFs:new ot.ZipOpenFS({libzip:(0,Yt.getLibzipSync)(),readOnlyArchives:!0})});var St={};et(St,{_getYarnStateAliases:()=>Jt,fs:()=>Ee,getPackagePath:()=>Oe});var j=S(x("@yarnpkg/core")),Gt=S(x("@yarnpkg/parsers")),F=S(x("@yarnpkg/fslib"));var Oe=async(s,t)=>{if(await Ie(s),!j.structUtils.isPackageCompatible(t,W()))return null;let e=j.structUtils.convertPackageToLocator(t),i=j.structUtils.stringifyLocator(e),n=at[i]||Vt[i];if(!n)return null;let r=n.locations[0];return r?F.ppath.join(s.cwd,r):s.cwd},at,Vt,Ie=async s=>{if(!at){let t=F.ppath.join(s.configuration.projectCwd,F.Filename.nodeModules,".yarn-state.yml");at=(0,Gt.parseSyml)(await F.xfs.readFilePromise(t,"utf8")),Vt=Jt(at)}},Ee=F.xfs,Jt=s=>Object.entries(s).reduce((t,[e,i])=>{if(!i.aliases)return t;let n=j.structUtils.parseLocator(e);for(let r of i.aliases){let o=j.structUtils.makeLocator(n,r),a=j.structUtils.stringifyLocator(o);t[a]=i}return t},{});var kt={};et(kt,{fs:()=>Me,getPackagePath:()=>Ce});var ct=S(x("@yarnpkg/core")),N=S(x("@yarnpkg/fslib"));var Ce=async(s,t)=>{if(!ct.structUtils.isPackageCompatible(t,W()))return null;let e=ct.structUtils.convertPackageToLocator(t),i=ct.structUtils.slugifyLocator(e),n=s.tryWorkspaceByLocator(e);return n?n.cwd:N.ppath.join(s.configuration.projectCwd,N.Filename.nodeModules,".store",i)},Me=N.xfs;var Pt=s=>{switch(s){case"pnp":return xt;case"node-modules":return St;case"pnpm":return kt;default:throw new Error("Unsupported linker")}};var ms=z.npath.basename(__dirname)==="@yarnpkg"?z.ppath.join(z.npath.toPortablePath(__dirname),"../.."):z.ppath.join(z.npath.toPortablePath(__dirname),".."),Xt=async(s,t,e,i,n)=>{let r={},o={children:r},a=await Zt(s,e,i),l=Pt(s.configuration.get("nodeLinker"));for(let[c,d]of a.entries()){let h=await l.getPackagePath(s,d);if(h===null)continue;let f=JSON.parse(await l.fs.readFilePromise(z.ppath.join(h,z.Filename.manifest),"utf8")),{license:u,url:y,vendorName:$,vendorUrl:v}=_e(f);r[u]||(r[u]={value:g.formatUtils.tuple(g.formatUtils.Type.NO_HINT,u),children:{}});let m=g.structUtils.convertPackageToLocator(d),T=g.formatUtils.tuple(g.formatUtils.Type.DEPENDENT,{locator:m,descriptor:c}),L=n?{}:A(A(A({},y?{url:{value:g.formatUtils.tuple(g.formatUtils.Type.NO_HINT,vt("URL",y,t))}}:{}),$?{vendorName:{value:g.formatUtils.tuple(g.formatUtils.Type.NO_HINT,vt("VendorName",$,t))}}:{}),v?{vendorUrl:{value:g.formatUtils.tuple(g.formatUtils.Type.NO_HINT,vt("VendorUrl",v,t))}}:{}),Z={value:T,children:L},Q=g.structUtils.stringifyLocator(m),tt=r[u].children;tt[Q]=Z}return o},Zt=async(s,t,e)=>{let i=new Map,n;if(t){if(e){for(let l of s.workspaces)l.manifest.devDependencies.clear();let a=await g.Cache.find(s.configuration);await s.resolveEverything({report:new g.ThrowReport,cache:a})}n=s.storedDescriptors.values()}else n=s.workspaces.flatMap(a=>{let l=[a.anchoredDescriptor];for(let[c,d]of a.dependencies.entries())e&&a.manifest.devDependencies.has(c)||l.push(d);return l});let r=g.miscUtils.sortMap(n,[a=>g.structUtils.stringifyIdent(a),a=>g.structUtils.isVirtualDescriptor(a)?"0":"1",a=>a.range]),o=new Set;for(let a of r.values()){let l=s.storedResolutions.get(a.descriptorHash);if(!l)continue;let c=s.storedPackages.get(l);if(!c)continue;let{descriptorHash:d}=g.structUtils.isVirtualDescriptor(a)?g.structUtils.devirtualizeDescriptor(a):a;o.has(d)||(o.add(d),i.set(a,c))}return i};function Ue(s){let t={},e=s.match(/^([^(<]+)/);if(e){let r=e[0].trim();r&&(t.name=r)}let i=s.match(/<([^>]+)>/);i&&(t.email=i[1]);let n=s.match(/\(([^)]+)\)/);return n&&(t.url=n[1]),t}var _e=s=>{let{license:t,licenses:e,repository:i,homepage:n,author:r}=s,o=typeof r=="string"?Ue(r):r;return{license:(()=>{if(t)return lt(t);if(e){if(!Array.isArray(e))return lt(e);if(e.length===1)return lt(e[0]);if(e.length>1)return`(${e.map(lt).join(" OR ")})`}return Qt})(),url:te(i)||n,vendorName:o==null?void 0:o.name,vendorUrl:n||(o==null?void 0:o.url)}},Qt="UNKNOWN",lt=s=>(typeof s!="string"?s.type:s)||Qt,te=s=>{let t=typeof s=="string"?s:s==null?void 0:s.url;if(!t)return t;let e=Kt.fromUrl(t);return!e||e.getDefaultRepresentation()!=="shortcut"?t:e.https()},vt=(s,t,e)=>e?t:`${s}: ${t}`,ee=async(s,t,e)=>{let i=await Zt(s,t,e),n=Pt(s.configuration.get("nodeLinker")),r=new Map;for(let a of i.values()){let l=await n.getPackagePath(s,a);if(l===null)continue;let c=JSON.parse(await n.fs.readFilePromise(z.ppath.join(l,z.Filename.manifest),"utf8")),h=(await n.fs.readdirPromise(l,{withFileTypes:!0})).filter(T=>T.isFile()).map(({name:T})=>T),f=h.find(T=>{let L=T.toLowerCase();return L==="license"||L.startsWith("license.")||L==="unlicense"||L.startsWith("unlicense.")});if(!f)continue;let u=await n.fs.readFilePromise(z.ppath.join(l,f),"utf8"),y=h.find(T=>{let L=T.toLowerCase();return L==="notice"||L.startsWith("notice.")}),$;y&&($=await n.fs.readFilePromise(z.ppath.join(l,y),"utf8"));let v=$?`${u}

NOTICE

${$}`:u,m=r.get(v);m?m.set(c.name,c):r.set(v,new Map([[c.name,c]]))}let o=`THE FOLLOWING SETS FORTH ATTRIBUTION NOTICES FOR THIRD PARTY SOFTWARE THAT MAY BE CONTAINED IN PORTIONS OF THE ${String(s.topLevelWorkspace.manifest.raw.name).toUpperCase().replace(/-/g," ")} PRODUCT.

`;for(let[a,l]of r.entries()){o+=`-----

`;let c=[],d=[];for(let{name:f,repository:u}of l.values()){c.push(f);let y=te(u);y&&d.push(l.size===1?y:`${y} (${f})`)}let h=[];h.push(`The following software may be included in this product: ${c.join(", ")}.`),d.length>0&&h.push(`A copy of the source code may be downloaded from ${d.join(", ")}.`),h.push("This software contains the following license and notice below:"),o+=`${h.join(" ")}

`,o+=`${a.trim()}

`}return o};var K=class extends D.Command{constructor(){super(...arguments);this.recursive=D.Option.Boolean("-R,--recursive",!1,{description:"Include transitive dependencies (dependencies of direct dependencies)"});this.production=D.Option.Boolean("--production",!1,{description:"Exclude development dependencies"});this.json=D.Option.Boolean("--json",!1,{description:"Format output as JSON"});this.excludeMetadata=D.Option.Boolean("--exclude-metadata",!1,{description:"Exclude dependency metadata from output"})}async execute(){let t=await H.Configuration.find(this.context.cwd,this.context.plugins),{project:e,workspace:i}=await H.Project.find(t,this.context.cwd);if(!i)throw new se.WorkspaceRequiredError(e.cwd,this.context.cwd);await e.restoreInstallState();let n=await Xt(e,this.json,this.recursive,this.production,this.excludeMetadata);H.treeUtils.emitTree(n,{configuration:t,stdout:this.context.stdout,json:this.json,separators:1})}};K.paths=[["licenses","list"]],K.usage=D.Command.Usage({description:"display the licenses for all packages in the project",details:`
      This command prints the license information for packages in the project. By default, only direct dependencies are listed.

      If \`-R,--recursive\` is set, the listing will include transitive dependencies (dependencies of direct dependencies).

      If \`--production\` is set, the listing will exclude development dependencies.
    `,examples:[["List all licenses of direct dependencies","$0 licenses list"],["List all licenses of direct and transitive dependencies","$0 licenses list --recursive"],["List all licenses of production dependencies only","$0 licenses list --production"]]});var ie=S(x("@yarnpkg/cli")),ht=S(x("@yarnpkg/core")),R=S(x("clipanion"));var X=class extends R.Command{constructor(){super(...arguments);this.recursive=R.Option.Boolean("-R,--recursive",!1,{description:"Include transitive dependencies (dependencies of direct dependencies)"});this.production=R.Option.Boolean("--production",!1,{description:"Exclude development dependencies"})}async execute(){let t=await ht.Configuration.find(this.context.cwd,this.context.plugins),{project:e,workspace:i}=await ht.Project.find(t,this.context.cwd);if(!i)throw new ie.WorkspaceRequiredError(e.cwd,this.context.cwd);await e.restoreInstallState();let n=await ee(e,this.recursive,this.production);this.context.stdout.write(n)}};X.paths=[["licenses","generate-disclaimer"]],X.usage=R.Command.Usage({description:"display the license disclaimer including all packages in the project",details:`
      This command prints the license disclaimer for packages in the project. By default, only direct dependencies are listed.

      If \`-R,--recursive\` is set, the disclaimer will include transitive dependencies (dependencies of direct dependencies).

      If \`--production\` is set, the disclaimer will exclude development dependencies.
    `,examples:[["Include licenses of direct dependencies","$0 licenses generate-disclaimer"],["Include licenses of direct and transitive dependencies","$0 licenses generate-disclaimer --recursive"],["Include licenses of production dependencies only","$0 licenses list --production"]]});var Fe={commands:[K,X]},De=Fe;return je;})();
return plugin;
}
};
